# LDAP入门

### 什么是LDAP

LDAP全称为 Lightweight Directory Access Protocol ，即**轻量级目录访问协议**。它基于X.500标准，但是它比X.500简单且可以根据需求定制。

这里多说几句关于X.500：

- 是什么？全球分布式的名录服务系统的协议，即它是一个协议。可以将其理解为一个具有全球信息的电话簿。这个目录组织在同一个”根目录下“，具有一个”树形结构“，你可以理解为像”我的电脑“那样的电脑文件夹。
- 为什么？这个协议的目的在于提供一种机制，可以满足将用户和网络资源信息分离开来。这里的分离指的是用户访问资源不受资源在网络中位置的限制

而相对于X.500，LDAP支持TCP/IP，这对于访问Internet是必须的。

### 如何理解LDAP

既然LDAP是基于X.500的，那么他当然也可以被看做是一个目录协议。那么怎么理解这个目录协议呢？你可能觉得他是一个用来存储用户数据的数据库的角色。然后LDAP**不是一个数据库，它只是一个用来访问存储在目录中的用户的信息的协议**。你可以这么理解它：”通过使用LDAP可以在信息目录中找到用户信息的正确位置上的数据“

### LDAP的优势

LDAP最大的优势在于：可以在任何计算机上，很容易的获取不断增加的LDAP客户端并访问LDAP目录。而且定制应用程序使其支持LDAP也是非常便捷的。

其次LDAP是**跨平台的、标准的**协议，因此应用程序就不用为LDAP目录存放在什么服务器上而担心了。

与关系型数据库不同，不必为每个LDAP的客户端连接或许可协议收费。但是同样的对比关系型数据库，它的读性能很强而写性能很差并且没有事务和回滚的概念。此处也可以看出LDAP天生就是用来做查询的

LDAP服务器安装简单，容易维护

LDAP服务器可以使用”推“或者”拉“的方式复制全部或者部分的数据，并且复制技术是内置于LDAP服务器中的，配置起来非常方便

LDAP允许你根据需要使用ACL(Access Control Lists，一般被称作访问控制列表)，控制对数据读和写的权限。ACL可以根据谁访问了什么数据、访问什么数据和数据存储在什么地方以及其他对数据进行访问控制。因为这些都是由LDAP目录服务器完成的，所以不用担心在客户端的应用程序上是否要进行安全检查

LDAP比较适用于需要到不同服务器获取数据并且那些数据是不经常被更新的情况

### LDAP中的概念

##### 目录树

在一个目录服务系统中，整个目录就是一个目录树，树的每一个节点都是”条目“

##### 条目

每个条目就是一条记录，拥有自己的为一个区别于其他条目的”分辨名“(DN)

##### 对象类

某个实体类型对应的一组属性，**对象类可继承**

##### 属性

用来描述条目的某方面的信息。一个属性由一个属性类型和多个属性值组成，属性有必须属性和非必需属性

##### DN（Distinguished Name）

又叫”分辨名“，它可以用来唯一的标识一条记录，描述了一条记录的详细路径

##### C（country）

国家字段

##### DC（Domain Component）

部分域名，用来将一个完整的域名拆分为多个部分域名。如域名为example.com将被拆分为：dc=example,dc=com

##### UID（User Id）

一条记录(条目)的唯一id

##### OU（Organization Unit）

组织单位，组织单位可包含其他各种对象(包括其他组织单元)，如”oa组“(一条记录的所属组织)

##### CN（Common Name）

公共名称，一条记录的名称(不唯一)

##### SN（Sure Name）

姓名

##### RDN（Relative DN）

相对”分辨名“，类似于文件系统的相对路径，它是与目录树结构无关的部分，如“uid=tom”或者“cn=“Tomas Hancsen”



### 参考资料

1. LDAP入门：https://wenku.baidu.com/view/3f62fa19964bcf84b9d57b35.html
2. LDAP概念和原理介绍：https://www.cnblogs.com/wilburxu/p/9174353.html